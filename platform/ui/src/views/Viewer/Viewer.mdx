---
name: Viewer
menu: Views
route: examples/viewer
---

import { useState } from 'react';
import { Playground, Props } from 'docz';
import {
  NavBar,
  SidePanel,
  Svg,
  MeasurementsPanel,
  SegmentationTable,
  ButtonGroup,
  Button,
  Icon,
  IconButton,
  StudyBrowser,
  ViewportActionBar,
  ViewportGrid,
  Notification,
  Viewport,
} from '@ohif/ui';

import Header from './components/Header';
import ViewportToolbar from './components/ViewportToolBar';

import { tabs } from './studyBrowserMockData';

import Image1 from './image1.png'
import Image2 from './image2.png'

<Playground>
  {() => {
    const [activeMeasurementItem, setActiveMeasurementItem] = useState(null);
    const descriptionData = {
      date: '05-Sep-2011',
      modality: 'CT',
      description: 'CHEST/ABD/PELVIS W CONTRAST',
    };
    const measurements = [{id: 1,
                               label: 'Liver',
                               displayText: '15.1 x 12.3 mm (S:4, I:40)',
                               isActive: activeMeasurementItem === 0
                          },
                          {id: 2,
                            label: 'Liver',
                            displayText: '17.6 x 14.1 mm (S:4, I:35)',
                            isActive: activeMeasurementItem === 1
                          },
                          {id: 3,
                            label: 'Kidney',
                            displayText: '17.6 x 14.1 mm (S:4, I:35)',
                            isActive: activeMeasurementItem === 2
                          }];
    const measurementTableData = {
      title: 'Measurements',
      amount: 10,
      data: measurements,
      onClick: (id) => setActiveMeasurementItem((s) => (s === id ? null : id)),
      onEdit: (id) => alert(`Edit: ${id}`),
    };
    const [activeViewportIndex, setActiveViewportIndex] = useState(0);
    return (
      <div>
        <Header />
        <div
          className="flex flex-row flex-no-wrap flex-1 items-stretch overflow-hidden w-full"
          style={{ height: 'calc(100vh - 57px' }}
        >
          <SidePanel
            side="left"
            defaultComponentOpen='studies'
            childComponents={{
              iconName: 'group-layers',
              iconLabel: 'Studies',
              label: 'Studies',
              name: 'studies',
              content: (
                <StudyBrowser tabs={tabs} />
              )
            }}
          />
          <div className="flex flex-col flex-1 h-full pb-2">
            <div className="flex flex-2 w-100 border-b border-transparent h-12">
              <ViewportToolbar />
            </div>
            <div className="flex flex-1 h-full overflow-hidden bg-black items-center justify-center">
              <ViewportGrid
                rows={1}
                cols={2}
                viewportContents={[
                  <Viewport
                    viewportIndex={0}
                    hasNotification={true}
                    onSeriesChange={(direction) => alert(`Series ${direction}`)}
                    studyData={{
                      label: 'A',
                      isTracked: true,
                      isLocked: false,
                      studyDate: '05-Sep-2011',
                      currentSeries: 1,
                      seriesDescription:
                        'Series description lorem ipsum dolor sit Series description lorem ipsum dolor sit Series description lorem ipsum dolor sit ',
                      modality: 'CT',
                      patientInformation: {
                        patientName: 'Smith, Jane',
                        patientSex: 'F',
                        patientAge: '60',
                        MRN: '10000001',
                        thickness: '5.0mm',
                        spacing: '1.25mm',
                        scanner: 'Aquilion',
                      },
                    }}
                  >
                    <div className="flex justify-center items-center h-full">
                      <img src={Image1}/>
                    </div>
                  </Viewport>,
                  <Viewport
                    viewportIndex={1}
                    hasNotification={false}
                    onSeriesChange={(direction) => alert(`Series ${direction}`)}
                    studyData={{
                      label: 'B',
                      isTracked: false,
                      isLocked: true,
                      studyDate: '07-Sep-2010',
                      currentSeries: 2,
                      seriesDescription:
                        'Series description lorem ipsum dolor sit Series description lorem ipsum dolor sit Series description lorem ipsum dolor sit ',
                      modality: 'SR',
                      patientInformation: {
                        patientName: 'Smith, Jane',
                        patientSex: 'F',
                        patientAge: '59',
                        MRN: '10000001',
                        thickness: '5.0mm',
                        spacing: '1.25mm',
                        scanner: 'Aquilion',
                      },
                    }}
                  >
                    <div className="flex justify-center items-center h-full">
                      <img src={Image2}/>
                    </div>
                  </Viewport>,
                ]}
                setActiveViewportIndex={setActiveViewportIndex}
                activeViewportIndex={activeViewportIndex}
              />
            </div>
          </div>
          <SidePanel
            side="right"
            defaultComponentOpen="measurements"
            childComponents={{
              iconName: 'list-bullets',
              iconLabel: 'Measure',
              label: 'ERIKERIk',
              name: 'measurements',
              content: (
                <MeasurementsPanel
                  descriptionData={descriptionData}
                  measurementTableData={measurementTableData}
                  actionButtons={
                    <React.Fragment>
                      <ButtonGroup onClick={() => alert('Export')}>
                        <Button
                          className="text-white border-primary-main bg-black text-base py-2 px-2"
                          size="initial"
                          color="inherit"
                        >
                          Export
                        </Button>
                        <IconButton
                          className="bg-black border-primary-main px-2 text-white px-2"
                          color="inherit"
                          size="initial"
                        >
                          <Icon name="arrow-down" />
                        </IconButton>
                      </ButtonGroup>
                      <Button
                        className="text-white border border-primary-main bg-black text-base py-2 px-2 ml-2"
                        variant="outlined"
                        size="initial"
                        color="inherit"
                        onClick={() => alert('Create Report')}
                      >
                        Create Report
                      </Button>
                    </React.Fragment>
                  }
                />
              )
            }}
          />
        </div>
      </div>
    );
  }}
</Playground>
